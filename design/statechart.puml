@startuml Examination_System_Statechart
title Examination System Statechart

skinparam state {
    BorderColor black
}

[*] --> Ready

state "Ready" as Ready #lightgreen
state "Enter OTP" as EnterOTP #yellow
state "Check Camera" as CheckCamera #yellow
state "In Progress" as InProgress #lightblue
state "Submitted" as Submitted #khaki
state "Graded" as Graded
state "Send Log" as SendLog #red

Ready -> EnterOTP : Student starts exam
EnterOTP -> CheckCamera : OTP valid
EnterOTP -> Ready : OTP invalid / Cancel
CheckCamera -> InProgress : Camera ready
CheckCamera -> Ready : Camera not ready / Cancel

InProgress -> Submitted : Student submits exam
Submitted -> Graded : Instructor or system grades exam

InProgress -> SendLog : Cheating detected

Graded --> [*]

legend right
  | State | Meaning |
  | <back:lightgreen>  </back> | Exam is ready to start |
  | <back:yellow>      </back> | Authentication & Checks |
  | <back:lightblue>  </back> | Student is taking the exam |
  | <back:orange>      </back> | Suspicious behavior detected |
  | <back:khaki>  </back> | Exam has been submitted |
  | <back:white>  </back> | Exam has been graded |
  | <back:red>  </back> | Log is sent due to cheating detected |
end legend

@enduml
